<div class="modal-header">
  <h4 class="modal-title" id="myModalLabel1"></h4>
  <button
    type="button"
    class="close"
    (click)="modal.dismiss('Cross click')"
    aria-label="Close"
  >
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body" tabindex="0" ngbAutofocus>
  <form>
    <div class="form-group">
      <label for="description">Descripci√≥n</label>
      <fieldset class="form-group">
        <textarea class="form-control" id="basicTextarea" rows="3"></textarea>
      </fieldset>
    </div>

    <fieldset class="form-group">
      <label for="file-upload-single">Documento:</label>
      <div class="custom-file">
        <input
          type="file"
          class="custom-file-input"
          type="file"
          ng2FileSelect
          [uploader]="uploader"
          id="file-upload-single"
          (onFileSelected)="onFileSelected($event)"
        />
        <label class="custom-file-label">Choose file</label>
      </div>
    </fieldset>

    <div class="col-lg-12 overflow-auto">
      <div class="d-flex justify-content-between mb-1">
        <h4>Upload queue</h4>
        <p>Queue length: {{ uploader?.queue?.length }}</p>
      </div>
      <div style="overflow-x: auto">
        <table class="table">
          <thead>
            <tr>
              <th width="50%">Name</th>
              <th>Size</th>
              <th>Progress</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of uploader.queue">
              <td>
                <strong>{{ item?.file?.name }}</strong>
              </td>
              <td *ngIf="uploader.options.isHTML5" nowrap>
                {{ item?.file?.size / 1024 / 1024 | number: ".2" }} MB
              </td>
              <td *ngIf="uploader.options.isHTML5">
                <ngb-progressbar
                  type="primary"
                  [value]="item.progress"
                ></ngb-progressbar>
              </td>
              <td class="text-center">
                <span *ngIf="item.isSuccess"><i data-feather="check"></i></span>
                <span *ngIf="item.isCancel"><i data-feather="slash"></i></span>
                <span *ngIf="item.isError"
                  ><i data-feather="x-circle"></i
                ></span>
              </td>
              <td nowrap>
                <button
                  type="button"
                  class="btn btn-raised btn-outline-success btn-sm mr-50"
                  (click)="item.upload()"
                  [disabled]="
                    item.isReady || item.isUploading || item.isSuccess
                  "
                  rippleEffect
                >
                  <span data-feather="upload"></span>
                </button>
                <button
                  type="button"
                  class="btn btn-raised btn-outline-warning btn-sm mr-50"
                  (click)="item.cancel()"
                  [disabled]="!item.isUploading"
                  rippleEffect
                >
                  <i data-feather="slash"></i>
                </button>
                <button
                  type="button"
                  class="btn btn-raised btn-outline-danger btn-sm"
                  (click)="item.remove()"
                  rippleEffect
                >
                  <i data-feather="trash"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div id="">
        <p class="mt-1">Queue progress:</p>
        <ngb-progressbar
          class="mb-1"
          type="primary"
          [value]="uploader.progress"
        ></ngb-progressbar>
        <button
          type="button"
          class="btn mr-1 btn-primary mb-1 mb-sm-0"
          rippleEffect
        >
          <span data-feather="upload" class="mr-25"></span> Upload all
        </button>
        <button
          type="button"
          class="btn mr-1 btn-outline-warning mb-1 mb-sm-0"
          [disabled]="!uploader.isUploading"
          rippleEffect
        >
          <span data-feather="slash" class="mr-25"></span> Cancel all
        </button>
        <button
          type="button"
          class="btn btn-outline-danger mb-1 mb-sm-0"
          [disabled]="!uploader.queue.length"
          rippleEffect
        >
          <span data-feather="trash" class="mr-25"></span> Remove all
        </button>
      </div>
    </div>
  </form>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-default">Cancelar</button>
  &nbsp;&nbsp;
  <button type="button" class="btn btn-primary">Guardar</button>
</div>
