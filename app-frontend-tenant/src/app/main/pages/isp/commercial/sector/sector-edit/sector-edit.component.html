<div class="content-wrapper container-xxl p-0">
  <div class="content-body">
    <app-content-header [contentHeader]="contentHeader"></app-content-header>
    <!-- users edit start -->
    <section class="app-user-edit">
      <div class="card">
        <div class="card-body">
          <!-- users edit media object ends -->
          <!-- users edit account form start -->
          <form class="form-validate" [formGroup]="editForm">
            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label for="description">Provincia</label>
                  <ng-select
                    [items]="stateList"
                    [clearable]="false"
                    name="selectstates"
                    bindValue="name"
                    formControlName="state"
                    bindLabel="name"
                    placeholder="Seleccione"
                    (change)="getCity($event)"
                    [ngClass]="{
                      'is-invalid': isControlInvalid('state'),
                      'is-valid': isControlValid('state')
                    }"
                  >
                    <ng-template ng-option-tmp ng-label-tmp let-item="item">
                      {{ item.name }}
                    </ng-template>
                  </ng-select>
                  <div class="valid-feedback" *ngIf="isControlValid('state')">
                    Provincia ingresada correctamente
                  </div>
                  <div
                    class="invalid-feedback"
                    *ngIf="controlHasError('required', 'state')"
                  >
                    {{ "El elemento es requerido" }}
                  </div>
                  <div
                    class="invalid-feedback"
                    *ngIf="editForm.get('state')?.errors?.serverError"
                  >
                    {{ editForm.get("state")?.errors?.serverError }}
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label for="description">Ciudad</label>
                  <ng-select
                    [items]="cityList"
                    [clearable]="false"
                    name="selectcity"
                    formControlName="city"
                    bindValue="name"
                    bindLabel="name"
                    placeholder="Seleccione"
                    (change)="getLocationCity($event)"
                    [ngClass]="{
                      'is-invalid': isControlInvalid('city'),
                      'is-valid': isControlValid('city')
                    }"
                  >
                    <ng-template ng-option-tmp ng-label-tmp let-item="item">
                      {{ item.name }}
                    </ng-template>
                  </ng-select>
                  <div class="valid-feedback" *ngIf="isControlValid('city')">
                    Ciudad ingresada correctamente
                  </div>
                  <div
                    class="invalid-feedback"
                    *ngIf="controlHasError('required', 'city')"
                  >
                    {{ "El elemento es requerido" }}
                  </div>
                  <div
                    class="invalid-feedback"
                    *ngIf="editForm.get('city')?.errors?.serverError"
                  >
                    {{ editForm.get("city")?.errors?.serverError }}
                  </div>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-group">
                  <label for="name">Localidad</label>
                  <!-- Select Custom Tag -->
                  <ng-select
                    [items]="locationList"
                    [addTag]="selectAddTagMethod"
                    formControlName="location"
                    placeholder="Seleccione"
                    [hideSelected]="true"
                    bindLabel="location"
                    bindValue="location"
                    [ngClass]="{
                      'is-invalid': isControlInvalid('location'),
                      'is-valid': isControlValid('location')
                    }"
                  >
                    <ng-template ng-label-tmp let-item="item" let-clear="clear">
                      <span class="ng-value-label"> {{ item.location }}</span>
                      <span
                        class="ng-value-icon right"
                        (click)="clear(item)"
                        aria-hidden="true"
                        >×</span
                      >
                    </ng-template>
                  </ng-select>
                  <p>
                    <small class="text-muted"
                      >Seleccione o cree una nueva locación</small
                    >
                  </p>
                  <div
                    class="valid-feedback"
                    *ngIf="isControlValid('location')"
                  >
                    Localidad ingresada correctamente
                  </div>
                  <div
                    class="invalid-feedback"
                    *ngIf="controlHasError('required', 'location')"
                  >
                    {{ "El elemento es requerido" }}
                  </div>
                  <div
                    class="invalid-feedback"
                    *ngIf="editForm.get('location')?.errors?.serverError"
                  >
                    {{ editForm.get("location")?.errors?.serverError }}
                  </div>
                  <!--/ Select Custom Tag -->
                </div>
              </div>
              <div class="col-md-12">
                <div class="form-group">
                  <label for="name">Sector</label>
                  <input
                    type="text"
                    id="name"
                    class="form-control"
                    placeholder="Nombre"
                    formControlName="sector"
                    name="name-customer"
                    [ngClass]="{
                      'is-invalid': isControlInvalid('sector'),
                      'is-valid': isControlValid('sector')
                    }"
                  />
                  <div class="valid-feedback" *ngIf="isControlValid('sector')">
                    Sector ingresado correctamente
                  </div>
                  <div
                    class="invalid-feedback"
                    *ngIf="controlHasError('maxlength', 'sector')"
                  >
                    {{ "Máximo: " }} 250
                  </div>
                  <div
                    class="invalid-feedback"
                    *ngIf="controlHasError('required', 'sector')"
                  >
                    {{ "El elemento es requerido" }}
                  </div>
                  <div
                    class="invalid-feedback"
                    *ngIf="editForm.get('sector')?.errors?.serverError"
                  >
                    {{ editForm.get("sector")?.errors?.serverError }}
                  </div>
                </div>
              </div>
            </div>
            <div class="row p-3">
              <div class="col-md-12">
                <input
                  type="text"
                  id="Sector"
                  class="form-control"
                  (keydown.enter)="$event.preventDefault()"
                  placeholder="Buscar localidad"
                  type="text"
                  #search
                />
                <google-map
                  #myGoogleMap
                  height="500px"
                  width="100%"
                  [zoom]="zoom"
                  [center]="center"
                  [options]="options"
                  (mapClick)="eventHandler($event, 'mapClick')"
                >
                  <map-marker [position]="marker.position"></map-marker>
                </google-map>
              </div>
            </div>

            <!-- <div class="row">
              <div class="col-12 col-md-6 pr-md-0">
                <div class="col-md-12">
                  <div class="form-group">
                    <label for="name">Nombre</label>
                    <input
                      type="text"
                      id="name"
                      class="form-control"
                      placeholder="Nombre"
                      name="name-customer"
                    />
                  </div>
                </div>
                <div class="col-md-12">
                  <div class="form-group">
                    <label for="name">Nombre</label>
                    <input
                      type="text"
                      id="name"
                      class="form-control"
                      placeholder="Nombre"
                      name="name-customer"
                    />
                  </div>
                </div>
              </div>
              <div class="col-12 col-md-6">
                <div
                  class="google_map_container shadow-sm rounded mt-3 mt-md-0"
                >
                  <input
                    type="text"
                    id="Sector"
                    class="form-control"
                    (keydown.enter)="$event.preventDefault()"
                    placeholder="Buscar un sector"
                    type="text"
                    #search
                  />
                  <google-map
                    #myGoogleMap
                    height="500px"
                    width="100%"
                    [zoom]="zoom"
                    [center]="center"
                    [options]="options"
                    (mapClick)="eventHandler($event, 'mapClick')"
                  >
                    <map-marker [position]="marker.position"></map-marker>
                  </google-map>
                </div>
              </div>
            </div> -->
            <div class="col-12 d-flex flex-row-reverse flex-column mt-2">
              <button
                (click)="submit()"
                type="button"
                class="btn btn-primary mb-1 mb-sm-0 mr-0 mr-sm-1"
                rippleEffect
              >
                Guardar
              </button>
            </div>
          </form>
          <!-- users edit account form ends -->
        </div>
      </div>
    </section>
    <!-- users edit ends -->
  </div>
</div>
